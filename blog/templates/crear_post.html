{% extends "base.html" %}

{% block titulo %}Crear Post{% endblock %}

{% block contenido_que_cambia %}
    <h2>‚úçÔ∏è Crear Nuevo Post</h2>

    <p>Completa los campos para publicar tu art√≠culo. Los campos de Autor y Categor√≠a son selectores.</p>
    
    <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        
        {# A. Renderizado de campos individuales con sus etiquetas y errores #}
        {% for field in form %} 
            <p>
                {{ field.label_tag }}
                {{ field }}
                
                {# Mostrar errores espec√≠ficos del campo #}
                {% if field.errors %}
                    <br>
                    <span style="color:red;">
                        {% for error in field.errors %}
                            ‚Ä¢ {{ error }}<br>
                        {% endfor %}
                    </span>
                {% endif %}
            </p>
        {% endfor %} 
        {# üõë ¬°FIN DEL BUCLE! #}
        
        <hr>

        {# B. Mostrar errores del formulario no ligados a un campo espec√≠fico #}
        {% if form.non_field_errors %}
            <ul style="color:red;">
                {% for error in form.non_field_errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
        {% endif %}
        
        <input type="submit" value="Publicar Post">
    </form>
{% endblock %}